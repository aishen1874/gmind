{"version":3,"sources":["../../src/core/gmind.ts","../../src/mock/data.ts","../../src/util/mapTree.ts","../../src/util/getWrapString.ts","../../src/behavior/clickSelected.js","../../src/config/palette.ts","../../src/shape/node.ts","../../src/shape/edge.ts","../../src/index.tsx","App.tsx","index.tsx"],"names":["Gmind","getData","G6","TreeGraph","name","children","mapTree","parentDepth","serialIndex","parentTopicIndex","treeData","rest","topicIndex","target","depth","mapCallback","Array","item","isCJKCharacter","ch","cjk","NO1Unihan","NO2UFF00","NO3U2E80","NO4U3000","NO5U31C0","NO6U2F00","NO7U2FF0","NO8U3100","NO9U31A0","NO10U3040","NO11U30A0","NO12U31F0","NO13UAC00","NO14U1100","NO15U3130","NO16U1D300","NO17U4DC0","NO18UA000","NO19UA490","NO20U2800","NO21U3200","NO22U3300","NO23U2700","NO24U2600","NO25UFE10","NO26UFE30","str","RegExp","reg","getDefaultCfg","multiple","getEvents","onClick","this","e","selectedItems","graph","get","onContextmenu","onNodeMouseOver","getCurrentMode","setItemState","onEdgeMouseOver","onEdgeMouseLeave","onCanvasClick","_clearSubProcessSelected","findAll","node","subProcessList","subGroup","_clearGroupSelected","group","selected","_clearSelected","findAllByState","colorPreset","Map","options","style","stateStyles","hover","draw","wrapString","cfg","lines","keyShape","attrs","x","y","radius","lineWidth","fontSize","opacity","isNodeShape","cursor","stroke","fill","width","height","textAlign","textBaseline","text","fontWeight","textColor","path","endArrow","setState","rect","getAnchorPoints","itemType","startPoint","endPoint","source","targetModel","controlPoint1","offset","lineStartWidth","Designer","designerRef","useRef","useEffect","container","modes","default","type","enableOptimize","trigger","includeEdges","brushStyle","fillOpacity","defaultNode","size","defaultEdge","layout","direction","getHeight","d","getWidth","getVGap","getHGap","targetData","baseData","id","uuidv4","$div","document","styleObj","position","filter","rawText","isBreakWord","lineHeight","parseFloat","words","temp","i","oneline","word","string","getWrapString","className","styles","ref","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6ed369c5.chunk.js","sourcesContent":["import G6 from '@antv/g6'\n// eslint-disable-next-line no-unused-vars\nimport { GraphOptions } from '@antv/g6/lib/interface/graph'\n\nexport default class Gmind extends G6.TreeGraph {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(cfg: GraphOptions) {\n    super(cfg)\n  }\n\n  getData() {\n    // console.log('hello world')\n  }\n}\n","export default {\n  name: '全景分析图谱',\n  children: [\n    {\n      name: '行业',\n      children: [\n        {\n          name: '农、林、牧、渔业',\n          children: [\n            { name: '农业' },\n            { name: '林业' },\n            { name: '畜牧业' },\n            { name: '渔业' },\n            { name: '农、林、牧、渔专业及辅助性活动' }\n          ]\n        },\n        {\n          name: '采矿业',\n          children: [\n            { name: '煤炭开采和洗选业' },\n            { name: '石油和天然气开采业' },\n            { name: '黑色金属矿采选业' },\n            { name: '有色金属矿采选业' },\n            { name: '非金属矿采选业' }\n          ]\n        },\n        {\n          name: '制造业',\n          children: [\n            { name: '农副食品加工业' },\n            { name: '食品制造业' },\n            { name: '酒、饮料和精制茶制造业' },\n            { name: '烟草制品业' },\n            { name: '纺织业' }\n          ]\n        },\n        {\n          name: '电力、热力、燃气及水生产和供应业',\n          children: [\n            { name: '电力、热力生产和供应业' },\n            { name: '燃气生产和供应业' },\n            { name: '水的生产和供应业' }\n          ]\n        },\n        {\n          name: '建筑业',\n          children: [\n            { name: '房屋建筑业' },\n            { name: '土木工程建筑业' },\n            { name: '建筑安装业' },\n            { name: '建筑装饰、装修和其他建筑业' }\n          ]\n        },\n        {\n          name: '批发和零售业',\n          children: [{ name: '批发业' }, { name: '零售业' }]\n        },\n        {\n          name: '交通运输、仓储和邮政业',\n          children: [\n            { name: '铁路运输业' },\n            { name: '道路运输业' },\n            { name: '水上运输业' },\n            { name: '航空运输业' },\n            { name: '管道运输业' },\n            { name: '多式联运和运输代理业' },\n            { name: '装卸搬运和仓储业' },\n            { name: '邮政业' }\n          ]\n        },\n        {\n          name: '住宿和餐饮业',\n          children: [{ name: '住宿业' }, { name: '餐饮业' }]\n        },\n        {\n          name: '信息传输、软件和信息技术服务业',\n          children: [\n            { name: '电信、广播电视和卫星传输服务' },\n            { name: '互联网和相关服务' },\n            { name: '软件和信息技术服务业' }\n          ]\n        },\n        {\n          name: '金融业',\n          children: [\n            { name: '货币金融服务' },\n            { name: '资本市场服务' },\n            { name: '保险业' },\n            { name: '其他金融业' }\n          ]\n        },\n        {\n          name: '房地产业',\n          children: [{ name: '房地产业' }]\n        },\n        {\n          name: '租赁和商务服务业',\n          children: [{ name: '租赁业' }, { name: '商务服务业' }]\n        },\n        {\n          name: '科学研究和技术服务业',\n          children: [\n            { name: '研究和试验发展' },\n            { name: '专业技术服务业' },\n            { name: '科技推广和应用服务业' }\n          ]\n        },\n        {\n          name: '水利、环境和公共设施管理业',\n          children: [\n            { name: '水利管理业' },\n            { name: '生态保护和环境治理业' },\n            { name: '公共设施管理业' },\n            { name: '土地管理业' }\n          ]\n        },\n        {\n          name: '居民服务、修理和其他服务业',\n          children: [\n            { name: '居民服务业' },\n            { name: '机动车、电子产品和日用产品修理业' },\n            { name: '其他服务业' }\n          ]\n        },\n        {\n          name: '教育',\n          children: [{ name: '教育' }]\n        },\n        {\n          name: '卫生和社会工作',\n          children: [{ name: '卫生' }, { name: '社会工作' }]\n        },\n        {\n          name: '文化、体育和娱乐业',\n          children: [\n            { name: '新闻和出版业' },\n            { name: '广播、电视、电影和录音制作业' },\n            { name: '文化艺术业' },\n            { name: '体育' },\n            { name: '娱乐业' }\n          ]\n        },\n        {\n          name: '公共管理、社会保障和社会组织',\n          children: [\n            { name: '中国共产党机关' },\n            { name: '国家机构' },\n            { name: '人民政协、民主党派' },\n            { name: '社会保障' },\n            { name: '群众团体、社会团体和其他成员组织' },\n            { name: '基层群众自治组织及其他组织' }\n          ]\n        },\n        {\n          name: '国际组织',\n          children: [{ name: '组织' }]\n        },\n        {\n          name: '税务管理特定行业',\n          children: [{ name: '其他税务管理特定行业' }]\n        }\n      ]\n    },\n\n    {\n      name: '税费种',\n      children: [\n        { name: '增值税' },\n        { name: '消费税' },\n        { name: '企业所得税' },\n        { name: '个人所得税' },\n        { name: '资源税' },\n        { name: '城市维护建设税' },\n        { name: '房产税' },\n        { name: '印花税' },\n        { name: '城镇土地使用税' },\n        { name: '土地增值税' },\n        { name: '车船税' },\n        { name: '船舶吨税' },\n        { name: '车辆购置税' },\n        { name: '关税' },\n        { name: '耕地占用税' },\n        { name: '契税' },\n        { name: '烟叶税' },\n        { name: '环境保护税' },\n        { name: '教育费附加' },\n        { name: '地方教育附加' },\n        { name: '文化事业建设费' },\n        { name: '其他非税收入' }\n      ]\n    },\n\n    {\n      name: '事项',\n      children: [\n        {\n          name: '生产经营事项',\n          children: [\n            { name: '收入类事项' },\n            { name: '成本类事项' },\n            { name: '费用类事项' },\n            { name: '股权激励' }\n          ]\n        },\n        {\n          name: '跨境事项',\n          children: [\n            { name: '对外支付' },\n            { name: '股权转让' },\n            { name: '股息红利' }\n          ]\n        },\n        {\n          name: '投资事项',\n          children: [\n            { name: '国债利息' },\n            { name: '股息红利' },\n            { name: '非货币性资产投资' },\n            { name: '股权转让' }\n          ]\n        },\n        { name: '税种比对' }\n      ]\n    },\n\n    {\n      name: '任务类型',\n      children: [\n        { name: '总局快反任务' },\n        { name: '总局千户集团' },\n        { name: '自然人异议申诉' },\n        { name: '总局其他任务' },\n        {\n          name: '市局快反任务',\n          children: [\n            { name: '增值税发票快反任务' },\n            { name: '新设立登记户户籍风险' },\n            { name: '人工智能识别涉嫌虚开风险' },\n            { name: '税收风险快速反应' }\n          ]\n        },\n        {\n          name: '市局非快反任务',\n          children: [\n            { name: '市局处室任务' },\n            { name: '市局派出机构任务' },\n            { name: '税收大数据和风险管理局任务' }\n          ]\n        },\n        { name: '区局基础性风险' },\n        { name: '区局实质性风险' }\n      ]\n    }\n  ]\n}\n","// 树形结构的 map 方法\n// @ts-ignore\n// import _get from 'lodash/get'\n\nfunction mapTree(\n  treeData: any,\n  mapCallback: any,\n  parentDepth: number = -1,\n  serialIndex: number = 0,\n  parentTopicIndex: number = -1\n) {\n  const { children, ...rest } = treeData\n  let topicIndex: number = parentTopicIndex\n  if (parentDepth < 0) {\n    topicIndex = -1\n  } else if (parentDepth === 0) {\n    topicIndex = serialIndex\n  } else {\n    topicIndex = parentTopicIndex\n  }\n  const target: any = {\n    depth: parentDepth + 1, // 深度\n    serialIndex, // 同级的 index\n    topicIndex,\n    ...mapCallback(rest) // map 的回调\n  }\n\n  if (children && Array.isArray(children) && children.length > 0) {\n    target.children = []\n    children.forEach((item, index: number) => {\n      target.children.push(\n        mapTree(item, mapCallback, parentDepth + 1, index, topicIndex)\n      )\n    })\n  }\n  return target\n}\n\nexport default mapTree\n","/*\n * 一个自动换行的方法，用于处理节点文本的换行\n * */\n\nfunction isCJKCharacter(ch: string) {\n  /*\n  参考网站：https://blog.csdn.net/iteye_4476/article/details/81652883，来源Unicode官网\n  CJK字符不同于其他字符，CJK字符可以在任意地方换行，不像英文字符等正常情况必须在单词后换行\n  截止20190725，根据我查到的资料（Unicode 5.0版），js中的Unicode为2个字节,CJK字符在2个字节的unicode中包括以下范围\n  //大多数情况下，可以取1.~5.来判断CJK字符\n  1.标准CJK文字\n    1.1 [\\u3400-\\u3db5] => CJK统一表意文字扩展A (发行版3.0)\n    1.2 [\\u4e00-\\u9fa5] => CJK统一表意文字 (发行版1.1) (常用来简单判断中文字符)\n    1.3 [\\u9fa6-\\u9fbb] => CJK统一表意文字 (发行版4.1)\n    1.4 [\\uf900-\\ufa2d] => CJK兼容文字 (发行版1.1)\n    1.5 [\\ufa30-\\ufa6a] => CJK兼容文字 (发行版3.2)\n    1.6 [\\ufa70-\\ufad9] => CJK兼容文字 (发行版4.1)\n    (以下两项编码超过两个字节，js中暂时不能用，但是还是写一下(js中无法使用的编码范围前面有双斜杠//标志)：\n    //1.7 [\\u20000-\\u2a6d6] => CJK统一表意文字扩展B (发行版3.1)\n    //1.8 [\\u2f800-\\u2fa1d] => CJK兼容补充 (发行版3.1))\n  2. [\\uff00-\\uffef] => 全角中英文标点符号、半宽片假名、半宽平假名、半宽韩文字母\n  3. [\\u2e80-\\u2eff] => CJK部首补充\n  4. [\\u3000-\\u303f] => CJK标点符号\n  5. [\\u31c0-\\u31ef] => CJK笔划\n  6. [\\u2f00-\\u2fdf] => 康熙部首\n  7. [\\u2ff0-\\u2fff] => 汉字结构描述字符\n  8. [\\u3100-\\u312f] => 注音符号\n  9. [\\u31a0-\\u31bf] => 注音符号(闽南语客家语扩展)\n  10. [\\u3040-\\u309f] => 日文平假名\n  11. [\\u30a0-\\u30ff] => 日文片假名\n  12. [\\u31f0-\\u31ff] => 日文片假名拼音扩展\n  13. [\\uac00-\\ud7af] => 韩文拼音\n  14. [\\u1100-\\u11ff] => 韩文字母\n  15. [\\u3130-\\u318f] => 韩文兼容字母\n  //16. [\\u1d300-\\u1d35f] => 太玄经符号\n  17. [\\u4dc0-\\u4dff] => 易经六十四卦象\n  18. [\\ua000-\\ua48f] => 彝文音节\n  19. [\\ua490-\\ua4cf] => 彝文部首\n  20. [\\u2800-\\u28ff] => 盲文符号\n  21. [\\u3200-\\u32ff] => CJK字母及月份\n  22. [\\u3300-\\u33ff] => CJK特殊符号(日期合并)\n  23. [\\u2700-\\u27bf] => 装饰符号(非CJK专用)\n  24. [\\u2600-\\u26ff] => 杂项符号(非CJK专用)\n  25. [\\ufe10-\\ufe1f] => 中文竖排标点\n  26. [\\ufe30-\\ufe4f] => CJK兼容符号(竖排变体、下划线、顿号)\n  */\n  const cjk = {\n    NO1Unihan: [\n      '\\\\u3400-\\\\u3db5',\n      '\\\\u4e00-\\\\u9fa5',\n      '\\\\u9fa6-\\\\u9fbb',\n      '\\\\uf900-\\\\ufa2d',\n      '\\\\ufa30-\\\\ufa6a',\n      '\\\\ufa70-\\\\ufad9',\n      '',\n      ''\n    ],\n    NO2UFF00: ['\\\\uff00-\\\\uffef'],\n    NO3U2E80: ['\\\\u2e80-\\\\u2eff'],\n    NO4U3000: ['\\\\u3000-\\\\u303f'],\n    NO5U31C0: ['\\\\u31c0-\\\\u31ef'],\n    NO6U2F00: ['\\\\u2f00-\\\\u2fdf'],\n    NO7U2FF0: ['\\\\u2ff0-\\u2fff'],\n    NO8U3100: ['\\\\u3100-\\\\u312f'],\n    NO9U31A0: ['\\\\u31a0-\\\\u31bf'],\n    NO10U3040: ['\\\\u3040-\\\\u309f'],\n    NO11U30A0: ['\\\\u30a0-\\\\u30ff'],\n    NO12U31F0: ['\\\\u31f0-\\\\u31ff'],\n    NO13UAC00: ['\\\\uac00-\\\\ud7af'],\n    NO14U1100: ['\\\\u1100-\\\\u11ff'],\n    NO15U3130: ['\\\\u3130-\\\\u318f'],\n    NO16U1D300: [''], // \\\\u1d300-\\\\u1d35f\n    NO17U4DC0: ['\\\\u4dc0-\\\\u4dff'],\n    NO18UA000: ['\\\\ua000-\\\\ua48f'],\n    NO19UA490: ['\\\\ua490-\\\\ua4cf'],\n    NO20U2800: ['\\\\u2800-\\\\u28ff'],\n    NO21U3200: ['\\\\u3200-\\\\u32ff'],\n    NO22U3300: ['\\\\u3300-\\\\u33ff'],\n    NO23U2700: ['\\\\u2700-\\\\u27bf'],\n    NO24U2600: ['\\\\u2600-\\\\u26ff'],\n    NO25UFE10: ['\\\\ufe10-\\\\ufe1f'],\n    NO26UFE30: ['\\\\ufe30-\\\\ufe4f']\n  }\n  let reg\n  let str = '['\n  for (const k in cjk) {\n    str += cjk[k].join('')\n  }\n  str += ']+'\n  if (str !== '[]+') {\n    reg = new RegExp(str, 'm')\n    return reg.test(ch)\n  }\n  return null\n}\n\nfunction getWrapString(str: string, styles: any) {\n  // 传入的str需是能被html识别的字符串，暂不支持富文本，函数返回值也是字符串\n  if (!str || str.length <= 0) return ''\n\n  const $div = document.createElement('div')\n\n  const styleObj = {\n    position: 'absolute',\n    'z-index': -1,\n    opacity: 0,\n    filter: 'alpha(opacity=0)',\n    '-ms-filter': 'alpha(opacity=0)',\n    ...styles\n  }\n\n  for (const key in styleObj) {\n    $div.style[key] = styleObj[key]\n  }\n\n  document.body.append($div)\n\n  $div.innerText = str\n\n  // 1.1获取初步处理的字符串，即已完成空白符替换，但还未计算溢出换行。\n  const rawText = $div.innerText\n\n  $div.innerText = ''\n  $div.style.overflow = 'hidden'\n  $div.style.lineHeight = '1'\n\n  const isBreakWord =\n    ($div.style.wordWrap + $div.style.wordBreak).indexOf('break') >= 0\n  const lineHeight = parseFloat($div.style.fontSize) // 记录行高判断是否产生换行\n\n  // 下面将上面初步处理的字符串进行字符分割。\n  const words = []\n  const temp = rawText.split(/\\b/) // 根据单词边界进行初次分割，分割后的non-CJK字符会变成一个整体，但CJK字符需要进行二次分割\n  // 2.对英文单词或一串中文进行二次分割\n  for (let i = 0; i < temp.length; i++) {\n    // 将包含CJK字符的项进行单字分割后存入words数字中 //另外，如果设置了break-word则将英文单词分割为单字\n    if (isCJKCharacter(temp[i]) || isBreakWord) {\n      words.push.apply(words, temp[i].split(''))\n    } else {\n      // 不包含CJK字符的项则视为一个整体直接存进words数组\n      words.push(temp[i])\n    }\n  }\n\n  // 预留用一个二维数组保存计算结果，如lines=[['12',' ','中'],['asdf','哈']]则表示结果有2行，第一行为'12 中',第二行为'asdf哈'\n  const lines = []\n  let oneline = [] // oneline是一维数组，保存一行中的单词\n  // 3.遍历求解换行位置，即尝试向行容器中添加字符。\n  for (let i = 0; i < words.length; i++) {\n    const word = words[i]\n    if (word === '\\n') {\n      // 如果当前单词是换行符\n      // 则将之前的内容存为1行，并追加保存一个空行\n      lines.push(oneline, [])\n      // 清空行容器\n      $div.innerText = ''\n      // 开始记录新行\n      oneline = []\n      // 结束本次循环\n      continue\n    }\n    // debugger\n    $div.innerText = $div.innerText + word // 往行容器中增加内容\n    if ($div.offsetHeight <= lineHeight) {\n      // 如果没有产生换行\n      // 将当前单词或单字追加记录到oneline中\n      oneline.push(word)\n    } else {\n      // 如果产生了换行\n      // 前面的单词存为一行\n      lines.push(oneline)\n      // 清空行容器\n      $div.innerText = ''\n      // 开始记录新行\n      oneline = []\n      // 回退，在新行中尝试添加当前单词或单字\n      i--\n    }\n  }\n\n  // 3.1矫正，手动插入最后一行。\n  lines.push(oneline)\n  // 4.收尾工作\n  // 4.1将二维数组还原为字符串\n  let string = ''\n  for (let i = 0; i < lines.length; i++) {\n    string += lines[i].join('') + '\\n'\n  }\n  string = string.substring(0, string.length - 1)\n  // 4.2移除行容器\n  $div.remove()\n  // 返回计算结果\n\n  return {\n    wrapString: string,\n    lines,\n    fontSize: lineHeight\n  }\n\n  // return string\n}\n\nexport { isCJKCharacter }\nexport default getWrapString\n","import G6 from '@antv/g6'\n\nG6.registerBehavior('clickSelected', {\n  getDefaultCfg() {\n    return {\n      multiple: false\n    }\n  },\n  getEvents() {\n    return {\n      'node:click': 'onClick',\n      'node:contextmenu': 'onContextmenu',\n      'edge:mouseover': 'onEdgeMouseOver',\n      'edge:mouseleave': 'onEdgeMouseLeave',\n      'canvas:click': 'onCanvasClick',\n      'node:mouseover': 'onNodeMouseOver'\n    }\n  },\n  onClick(e) {\n    // debugger\n    this._clearSelected()\n    this.graph.setItemState(e.item, 'selected', true)\n    let selectedItems = this.graph.get('selectedItems')\n    if (!selectedItems) selectedItems = []\n    selectedItems = [e.item.get('id')]\n    this.graph.set('selectedItems', selectedItems)\n    this.graph.emit('afteritemselected', selectedItems)\n  },\n  onContextmenu(e) {\n    e.preventDefault()\n    this._clearSelected()\n    this.graph.setItemState(e.item, 'selected', true)\n    let selectedItems = this.graph.get('selectedItems')\n    if (!selectedItems) selectedItems = []\n    selectedItems = [e.item.get('id')]\n    this.graph.set('selectedItems', selectedItems)\n    this.graph.emit('afteritemselected', selectedItems)\n  },\n  onNodeMouseOver(e) {\n    if (this.graph.getCurrentMode() === 'edit')\n      this.graph.setItemState(e.item, 'hover', true)\n    else this.graph.setItemState(e.item, 'hover', false)\n  },\n  onEdgeMouseOver(e) {\n    if (this.graph.getCurrentMode() === 'edit' && !e.item.hasState('selected'))\n      this.graph.setItemState(e.item, 'hover', true)\n  },\n  onEdgeMouseLeave(e) {\n    if (this.graph.getCurrentMode() === 'edit' && !e.item.hasState('selected'))\n      this.graph.setItemState(e.item, 'hover', false)\n  },\n  onCanvasClick() {\n    this._clearSelected()\n  },\n  _clearSubProcessSelected() {\n    const subProcessList = this.graph.findAll('node', (node) => {\n      if (node.get('model')) {\n        const clazz = node.get('model').clazz\n        return clazz === 'subProcess'\n      } else {\n        return false\n      }\n    })\n    subProcessList.forEach((node) => {\n      const group = node.getContainer()\n      const subGroup = group.subGroup\n      this._clearGroupSelected(subGroup)\n    })\n  },\n  _clearGroupSelected(group) {\n    const selected = group.findAll((subGroup) => {\n      const node = subGroup.get('item')\n      if (node) {\n        return node.hasState('selected')\n      } else {\n        return false\n      }\n    })\n    selected.forEach((subGroup) => {\n      const node = subGroup.get('item')\n      if (node) {\n        node.setState('selected', false)\n      }\n    })\n  },\n  _clearSelected() {\n    let selected = this.graph.findAllByState('node', 'selected')\n    selected.forEach((node) => {\n      this.graph.setItemState(node, 'selected', false)\n    })\n    selected = this.graph.findAllByState('edge', 'selected')\n    selected.forEach((edge) => {\n      this.graph.setItemState(edge, 'selected', false)\n    })\n    this._clearSubProcessSelected()\n    this.graph.set('selectedItems', [])\n    this.graph.emit('afteritemselected', [])\n  }\n})\n","const colorPreset = new Map([\n  [-1, '#8793a5'],\n  [0, '#FE6956'],\n  [1, '#FEB90C'],\n  [2, '#67C653'],\n  [3, '#4D8ED7'],\n  [4, '#42348B'],\n  [5, '#994486']\n])\n\nexport { colorPreset }\n","import G6 from '@antv/g6'\n// import { ellipsisString } from '../util/util'\n// import getWrapString from '../util/getWrapString'\nimport { colorPreset } from '../config/palette'\n\nG6.registerNode(\n  'base-node',\n  {\n    options: {\n      style: {},\n      stateStyles: {\n        hover: {},\n        selected: {}\n      }\n    },\n    draw(cfg, group) {\n      // @ts-ignore\n      const { nodeType, wrapString, lines, topicIndex, children, depth } = cfg\n\n      let keyShape: any\n      if (depth === 0) {\n        // @ts-ignore\n        keyShape = group.addShape('rect', {\n          attrs: {\n            x: 0,\n            y: 0,\n            radius: 6,\n            lineWidth: 3,\n            fontSize: 14,\n            opacity: 1,\n            isNodeShape: true,\n            cursor: 'pointer',\n            stroke: colorPreset.get(topicIndex % 6),\n            fill: '#ffffff',\n            width: 240,\n            height: 60 + (lines.length - 1) * 16\n          }\n        })\n\n        // @ts-ignore\n        group.addShape('text', {\n          attrs: {\n            textAlign: 'center',\n            textBaseline: 'top',\n            x: 120,\n            y: 18,\n            text: wrapString,\n            fontSize: 24,\n            fontWeight: 'bold',\n            cursor: 'pointer',\n            isNodeShape: true,\n            textColor: colorPreset.get(topicIndex % 6),\n            fill: '#000'\n          }\n        })\n      } else {\n        // @ts-ignore\n        keyShape = group.addShape('rect', {\n          attrs: {\n            x: 0,\n            y: 0,\n            radius: 6,\n            lineWidth: 2,\n            fontSize: 12,\n            opacity: 1,\n            isNodeShape: true,\n            cursor: 'pointer',\n            stroke: colorPreset.get(topicIndex % 6),\n            fill: '#ffffff',\n            width: 180,\n            height: 30 + (lines.length - 1) * 16\n          }\n        })\n\n        // @ts-ignore\n        group.addShape('text', {\n          attrs: {\n            textAlign: 'left',\n            textBaseline: 'top',\n            x: 8,\n            y: 8,\n            text: wrapString,\n            fontSize: 14,\n            cursor: 'pointer',\n            isNodeShape: true,\n            textColor: '#000',\n            fill: '#000'\n          }\n        })\n      }\n\n      if (children && children.length > 0 && depth !== 0) {\n        // @ts-ignore\n        group.addShape('path', {\n          attrs: {\n            path: [\n              ['M', 180, (30 + (lines.length - 1) * 16) / 2],\n              ['L', 193, (30 + (lines.length - 1) * 16) / 2]\n            ],\n            stroke: colorPreset.get(topicIndex % 6),\n            lineWidth: 2,\n            endArrow: false\n          },\n          name: 'path-branch'\n        })\n      }\n\n      return keyShape\n    },\n    setState(name, value, item) {\n      // @ts-ignore\n      const group = item.getContainer()\n      if (name === 'selected') {\n        const rect = group.getChildByIndex(0)\n\n        if (value) {\n          // @ts-ignore\n          rect.originStroke = rect.attrs.stroke\n          rect.attr('stroke', '#22a4fb')\n        } else {\n          // @ts-ignore\n          if (rect.originStroke) {\n            // @ts-ignore\n            rect.attr('stroke', rect.originStroke)\n          }\n        }\n      }\n    },\n    getAnchorPoints: function getAnchorPoints(cfg: any) {\n      // @ts-ignore\n      const { depth } = cfg\n      if (depth === 0) {\n        return [\n          [0.2, 0.5],\n          [0.3, 0.5],\n          [0.4, 0.5],\n          [0.5, 0.5],\n          [0.6, 0.5],\n          [0.7, 0.5],\n          [0.8, 0.5]\n        ]\n      }\n      return [\n        [0, 0.5],\n        [1, 0.5]\n      ]\n    }\n  },\n  'single-node'\n)\n","import G6 from '@antv/g6'\nimport { colorPreset } from '../config/palette'\n\nG6.registerEdge('curveline', {\n  itemType: 'edge',\n  draw: function draw(cfg: any, group) {\n    const { startPoint, endPoint, source, target } = cfg\n    const targetModel = target.getModel()\n    const sourceModel = source.getModel()\n    const { depth } = sourceModel\n\n    const controlPoint1 = {\n      x: startPoint.x + (endPoint.x - startPoint.x) / 3,\n      y: endPoint.y\n    }\n\n    const offset = endPoint.y - startPoint.y > 0 ? -2 : 2\n    const lineStartWidth = depth === 0 ? 12 : 6\n\n    if (endPoint.y - startPoint.y > 2 || endPoint.y - startPoint.y < -2) {\n      // @ts-ignore\n      return group.addShape('path', {\n        attrs: {\n          path: [\n            ['M', startPoint.x + 10, startPoint.y],\n            ['Q', controlPoint1.x, controlPoint1.y, endPoint.x, endPoint.y],\n            ['L', endPoint.x, endPoint.y + offset],\n            [\n              'Q',\n              controlPoint1.x,\n              controlPoint1.y + offset,\n              startPoint.x + 10 + lineStartWidth,\n              startPoint.y\n            ],\n            ['Z']\n          ],\n          lineWidth: 0,\n          fill: colorPreset.get(targetModel.topicIndex % 6)\n        },\n        name: 'in-fan-shape'\n      })\n    } else {\n      // @ts-ignore\n      return group.addShape('path', {\n        attrs: {\n          path: [\n            ['M', startPoint.x + 10, startPoint.y - 1],\n            ['L', endPoint.x, endPoint.y - 1],\n            ['L', endPoint.x, endPoint.y + 1],\n            ['L', startPoint.x + 10, startPoint.y + 1],\n            ['Z']\n          ],\n          lineWidth: 0,\n          fill: colorPreset.get(targetModel.topicIndex % 6)\n        },\n        name: 'in-fan-shape'\n      })\n    }\n\n    // @ts-ignore\n    // return group.addShape('path', {\n    //   attrs: {\n    //     path,\n    //     stroke: colorPreset.get(targetModel.topicIndex % 6),\n    //     lineWidth: 2,\n    //     endArrow: false\n    //   },\n    //   name: 'path-shape'\n    // })\n  }\n})\n","import React, { useEffect, useRef } from 'react'\nimport Gmind from './core/gmind'\n// import baseData from './mock/baseData'\nimport baseData from './mock/data'\nimport mapTree from './util/mapTree'\nimport { v4 as uuidv4 } from 'uuid'\nimport getWrapString from './util/getWrapString'\n\nimport styles from './styles.module.css'\nimport './style/tooltip.css'\n\nimport './behavior/clickSelected'\nimport './shape/node'\nimport './shape/edge'\n\nlet graph: any = null\n\nexport const Designer = () => {\n  const designerRef = useRef(null)\n  // const designerDom = designerRef.current\n\n  function bindEvents() {\n    // graph.on('nodeselectchange', (e: any) => {\n    //   const {\n    //     selectedItems: { nodes }\n    //   } = e\n    //   console.log(nodes[0])\n    //   debugger\n    // })\n  }\n\n  useEffect(() => {\n    // @ts-ignore\n    graph = new Gmind({\n      container: 'gmind-designer',\n      // @ts-ignore\n      width: designerRef.current.offsetWidth,\n      // @ts-ignore\n      height: designerRef.current.offsetHeight,\n      modes: {\n        default: [\n          {\n            type: 'drag-canvas',\n            enableOptimize: true\n          },\n          'zoom-canvas',\n          'click-select',\n          // 框选\n          {\n            type: 'brush-select',\n            trigger: 'shift',\n            includeEdges: false,\n            // @ts-ignore\n            brushStyle: {\n              stroke: '#18a0fb',\n              fill: '#18a0fb',\n              fillOpacity: 0.2,\n              lineWidth: 0.3\n            }\n          }\n          // 展开收起\n          // {\n          //   type: 'collapse-expand',\n          //   trigger: 'click',\n          //   onChange: (item, collapsed) => {\n          //     // @ts-ignore\n          //     const data = item.get('model').data\n          //     data.collapsed = collapsed\n          //     return true\n          //   }\n          // }\n        ]\n      },\n      defaultNode: {\n        type: 'base-node',\n        size: [200, 100]\n      },\n      defaultEdge: {\n        type: 'curveline',\n        style: {\n          stroke: '#A3B1BF'\n        }\n      },\n      layout: {\n        type: 'mindmap',\n        direction: 'LR', // H / V / LR / RL / TB / BT\n        // 指定节点 ID\n        // getId: function getId() {\n        //   return uuidv4()\n        // },\n        // 指定节点高度\n        getHeight: function getHeight(d: { lines: any[] }) {\n          if (d.lines.length > 0) {\n            return 40 + (d.lines.length - 1) * 16\n          }\n          return 40\n        },\n        // 指定节点宽度\n        getWidth: function getWidth() {\n          // debugger\n          return 50\n        },\n        // 指定节点之间的垂直间距\n        getVGap: function getVGap() {\n          // debugger\n          return 5\n        },\n        // 指定节点之间的水平间距\n        getHGap: function getHGap(d: { depth: any }) {\n          const { depth } = d\n          if (depth === 0) {\n            return 140\n          }\n          // debugger\n          return 100\n        }\n      }\n    })\n\n    const targetData = mapTree(baseData, function (item: any) {\n      return {\n        ...item,\n        id: uuidv4(),\n        ...getWrapString(item.name, {\n          'font-size': '14px',\n          width: '160px',\n          'word-wrap': 'break-word'\n        })\n      }\n    })\n\n    graph.data(targetData)\n    graph.render()\n    graph.fitView()\n    graph.zoomTo(1, {\n      x: 1600 / 2,\n      y: 700 / 2\n    })\n\n    bindEvents()\n  }, [])\n  return (\n    <div\n      className={styles['gmind-designer']}\n      id='gmind-designer'\n      ref={designerRef}\n    />\n  )\n}\n","import React from 'react'\nimport './App.css'\n\nimport { Designer } from 'gmind'\nimport 'gmind/dist/index.css'\n\nconst App = () => {\n  return (\n    <div className=\"pageWrapper\">\n      <div className=\"container\">\n        <Designer />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}